(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9af4eea8"],{"36d8":function(e,t,o){},"3e3d":function(e,t,o){"use strict";var a=o("36d8"),n=o.n(a);n.a},f4cf:function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-form",{ref:"form",staticClass:"mt20",attrs:{model:e.form,"label-width":"80px"}},[o("el-form-item",{attrs:{label:"时间"}},[o("el-select",{attrs:{placeholder:"请选择时间",size:"small"},on:{change:e.handleChange},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}},e._l(e.optionsTime,(function(e){return o("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),o("table-list",{attrs:{tableHead:e.project.tHead,tableData:e.project.tBody,isPaginationShow:!1}},[o("template",{slot:"operation"},[o("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{type:"text"},on:{click:function(o){return e.getSchool(t.row.project_code,t.row.project_name)}}},[e._v(" 查看参加学校 ")]),e.project.tBody[t.$index].project_award_background?e._e():o("el-button",{attrs:{type:"text"},on:{click:function(o){return e.upload(t.$index)}}},[e._v(" 上传背景图 ")])]}}])})],1)],2),o("el-dialog",{attrs:{title:"上传背景图",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[e.project.tBody[e.chooseIndex].project_award_background?o("img",{staticStyle:{width:"100px",height:"150px"},attrs:{src:e.project.tBody[e.chooseIndex].project_award_background}}):e._e(),e.project.tBody[e.chooseIndex].project_award_background?e._e():o("div",[e._v("未上传")]),e.project.tBody[e.chooseIndex].project_award_background?e._e():o("input",{ref:"file"+e.chooseIndex,staticStyle:{"margin-top":"20px"},attrs:{name:"file",type:"file",accept:"*"}}),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:e.uploadBackground}},[e._v("确定")])],1)])],1)},n=[],i=o("0748"),c=o("2442"),l={name:"project",components:{tableList:i["a"]},data:function(){return{dialogVisible:!1,project:{tHead:[{id:"bank_account_company",label:"公司"},{id:"project_name",label:"名称"},{id:"project_type",label:"类型"},{id:"project_award_background",label:"背景图"}],tBody:[]},optionsTime:[{value:"18-19",label:"2018年-2019年"},{value:"19-20",label:"2019年-2020年"}],time:"19-20",form:{},chooseIndex:0}},created:function(){this.getGameList()},methods:{getGameList:function(){var e=this;Object(c["c"])(this.time).then((function(t){var o=t.data;console.log(o),e.project.tBody=o}))},handleChange:function(e){console.log(e),this.getGameList()},getSchool:function(e,t){this.$store.commit("getTitle",t),this.$router.push({name:"account",params:{id:e}})},upload:function(e){this.chooseIndex=e,this.dialogVisible=!0},uploadBackground:function(){var e=this,t=this.$refs["file"+this.chooseIndex],o=t.files[0],a=new FormData;a.append("file",o),a.append("function","uploadBackground"),a.append("project_id",this.project.tBody[this.chooseIndex]._id.$id),Object(c["d"])(a).then((function(t){console.log(t),"success"==t.data.status&&(e.$message({message:"上传成功",type:"success"}),e.dialogVisible=!1,e.getGameList())}))}}},s=l,r=(o("3e3d"),o("9ca4")),d=Object(r["a"])(s,a,n,!1,null,"5a94c8d4",null);t["default"]=d.exports}}]);
//# sourceMappingURL=chunk-9af4eea8.678e31c1.js.map