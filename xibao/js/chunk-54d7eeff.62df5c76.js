(window.webpackJsonp = window.webpackJsonp || []).push([['chunk-54d7eeff'], { '0c71': function (e, t, o) {}, cfab: function (e, t, o) { 'use strict'; var a = o('0c71'); var i = o.n(a); i.a }, ea69: function (e, t, o) { 'use strict'; var a = o('1c8b'); var i = o('e1d6'); var l = o('3da3'); var n = o('d88d'); var s = o('3553'); var r = o('1ca1'); var c = o('1bbd'); var d = o('1ea7'); var u = o('ff9c'); var p = d('splice'); var f = u('splice', { ACCESSORS: !0, 0: 0, 1: 2 }); var h = Math.max; var b = Math.min; var m = 9007199254740991; var v = 'Maximum allowed length exceeded'; a({ target: 'Array', proto: !0, forced: !p || !f }, { splice: function (e, t) { var o; var a; var d; var u; var p; var f; var g = s(this); var _ = n(g.length); var x = i(e, _); var y = arguments.length; if (y === 0 ? o = a = 0 : y === 1 ? (o = 0, a = _ - x) : (o = y - 2, a = b(h(l(t), 0), _ - x)), _ + o - a > m) throw TypeError(v); for (d = r(g, a), u = 0; u < a; u++)p = x + u, p in g && c(d, u, g[p]); if (d.length = a, o < a) { for (u = x; u < _ - a; u++)p = u + a, f = u + o, p in g ? g[f] = g[p] : delete g[f]; for (u = _; u > _ - a + o; u--) delete g[u - 1] } else if (o > a) for (u = _ - a; u > x; u--)p = u + a - 1, f = u + o - 1, p in g ? g[f] = g[p] : delete g[f]; for (u = 0; u < o; u++)g[u + x] = arguments[u + 2]; return g.length = _ - a + o, d } }) }, f4cf: function (e, t, o) { 'use strict'; o.r(t); var a = function () { var e = this; var t = e.$createElement; var o = e._self._c || t; return o('div', [o('el-form', { ref: 'form', staticClass: 'mt20', attrs: { model: e.form, 'label-width': '80px' } }, [o('el-form-item', { attrs: { label: '时间' } }, [o('el-select', { attrs: { placeholder: '请选择时间', size: 'small' }, on: { change: e.handleChange }, model: { value: e.time, callback: function (t) { e.time = t }, expression: 'time' } }, e._l(e.optionsTime, function (e) { return o('el-option', { key: e.value, attrs: { label: e.label, value: e.value } }) }), 1)], 1)], 1), o('table-list', { attrs: { tableHead: e.project.tHead, tableData: e.project.tBody, isPaginationShow: !1 } }, [o('template', { slot: 'background' }, [o('el-table-column', { attrs: { label: '背景图' }, scopedSlots: e._u([{ key: 'default', fn: function (t) { return [e.project.tBody[t.$index].project_award_background ? o('img', { staticStyle: { width: '96px', height: '120px' }, attrs: { src: e.project.tBody[t.$index].project_award_background } }) : e._e()] } }]) })], 1), o('template', { slot: 'operation' }, [o('el-table-column', { attrs: { label: '操作' }, scopedSlots: e._u([{ key: 'default', fn: function (t) { return [o('el-button', { attrs: { type: 'text' }, on: { click: function (o) { return e.getSchool(t.row.project_code, t.row.project_name) } } }, [e._v(' 查看参加学校 ')]), o('el-button', { attrs: { type: 'text' }, on: { click: function (o) { return e.upload(t.$index) } } }, [e._v(' 上传背景图 ')])] } }]) })], 1)], 2), o('el-dialog', { attrs: { title: '上传背景图', visible: e.dialogVisible }, on: { 'update:visible': function (t) { e.dialogVisible = t } } }, [e.project.tBody[e.chooseIndex].project_award_background ? e._e() : o('div', [e._v('未上传')]), o('input', { ref: 'file' + e.chooseIndex, staticStyle: { 'margin-top': '20px' }, attrs: { name: 'file', type: 'file', accept: '*' } }), o('span', { staticClass: 'dialog-footer', attrs: { slot: 'footer' }, slot: 'footer' }, [o('el-button', { on: { click: function (t) { e.dialogVisible = !1 } } }, [e._v('取 消')]), o('el-button', { attrs: { type: 'primary' }, on: { click: e.uploadBackground } }, [e._v('确定')])], 1)]), o('el-dialog', { attrs: { title: '选项设置', visible: e.dialogVisible1 }, on: { 'update:visible': function (t) { e.dialogVisible1 = t } } }, [o('div', [e._v(' 个人： '), o('el-radio', { attrs: { label: '1' }, model: { value: e.radio, callback: function (t) { e.radio = t }, expression: 'radio' } }, [e._v('单页')]), o('el-radio', { attrs: { label: '2' }, model: { value: e.radio, callback: function (t) { e.radio = t }, expression: 'radio' } }, [e._v('表格')])], 1), o('div', { staticStyle: { 'margin-top': '20px' } }, [e._v(' 团队： '), o('el-radio', { attrs: { label: '1' }, model: { value: e.radio1, callback: function (t) { e.radio1 = t }, expression: 'radio1' } }, [e._v('单页')]), o('el-radio', { attrs: { label: '2' }, model: { value: e.radio1, callback: function (t) { e.radio1 = t }, expression: 'radio1' } }, [e._v('表格')])], 1), o('div', { staticStyle: { 'margin-top': '20px' } }, [e._v(' 顺序： '), o('el-radio', { attrs: { label: '1' }, model: { value: e.radio2, callback: function (t) { e.radio2 = t }, expression: 'radio2' } }, [e._v('个人奖项在前')]), o('el-radio', { attrs: { label: '2' }, model: { value: e.radio2, callback: function (t) { e.radio2 = t }, expression: 'radio2' } }, [e._v('团队奖项在前')])], 1), o('div', { staticStyle: { 'margin-top': '20px' } }, [e._v(' 奖项： '), o('el-checkbox-group', { staticStyle: { display: 'inline' }, model: { value: e.chooseAwards, callback: function (t) { e.chooseAwards = t }, expression: 'chooseAwards' } }, e._l(e.awards, function (e, t) { return o('el-checkbox', { key: t, attrs: { label: e } }) }), 1)], 1), o('div', { staticStyle: { 'margin-top': '20px' } }, [e._v(' 奖项顺序 '), e._l(e.chooseAwards, function (t, a) { return o('div', { key: a, staticStyle: { display: 'flex', 'align-items': 'center', 'margin-top': '20px' } }, [o('div', [e._v(e._s(t))]), o('el-button', { staticStyle: { 'margin-left': '20px' }, attrs: { size: 'mini', type: 'text' }, on: { click: function (t) { return e.moveUp(a) } } }, [e._v('上移')]), o('el-button', { attrs: { size: 'mini', type: 'text' }, on: { click: function (t) { return e.moveDown(a) } } }, [e._v('下移')])], 1) })], 2), o('span', { staticClass: 'dialog-footer', attrs: { slot: 'footer' }, slot: 'footer' }, [o('el-button', { on: { click: function (t) { e.dialogVisible1 = !1 } } }, [e._v('取 消')]), o('el-button', { attrs: { type: 'primary' }, on: { click: e.uploadChoose } }, [e._v('确定')])], 1)])], 1) }; var i = []; var l = (o('ea69'), o('0748')); var n = o('2442'); var s = { name: 'project', components: { tableList: l.a }, data: function () { return { dialogVisible: !1, dialogVisible1: !1, radio: '1', radio1: '1', radio2: '1', project: { tHead: [{ id: 'bank_account_company', label: '公司' }, { id: 'project_name', label: '名称' }, { id: 'project_type', label: '类型' }], tBody: [] }, optionsTime: [{ value: '18-19', label: '2018年-2019年' }, { value: '19-20', label: '2019年-2020年' }], time: '19-20', form: {}, chooseIndex: 0, awards: [], chooseAwards: [] } }, created: function () { this.getGameList() }, methods: { getGameList: function () { var e = this; Object(n.c)(this.time).then(function (t) { var o = t.data; console.log(o), e.project.tBody = o }) }, handleChange: function (e) { console.log(e), this.getGameList() }, getSchool: function (e, t) { this.$store.commit('getTitle', t), this.$router.push({ name: 'account', params: { id: e } }) }, upload: function (e) { this.chooseIndex = e, this.dialogVisible = !0 }, uploadBackground: function () { var e = this; var t = this.$refs['file' + this.chooseIndex]; var o = t.files[0]; var a = new FormData(); a.append('file', o), a.append('function', 'uploadBackground'), a.append('project_id', this.project.tBody[this.chooseIndex]._id.$id), Object(n.d)(a).then(function (t) { console.log(t), t.data.status === 'success' && (e.$message({ message: '上传成功', type: 'success' }), e.dialogVisible = !1, e.getGameList()) }) }, setChoose: function (e) { this.chooseIndex = e, this.awards = this.project.tBody[e].awards, this.dialogVisible1 = !0, console.log(this.awards) }, moveDown: function (e) { if (e !== this.chooseAwards.length - 1) { var t = this.chooseAwards; t[e] = t.splice(e + 1, 1, t[e])[0], this.chooseAwards = t } }, moveUp: function (e) { if (e !== 0) { var t = this.chooseAwards; t[e] = t.splice(e - 1, 1, t[e])[0], this.chooseAwards = t } }, uploadChoose: function () {} } }; var r = s; var c = (o('cfab'), o('9ca4')); var d = Object(c.a)(r, a, i, !1, null, '3ee71037', null); t.default = d.exports } }])
// # sourceMappingURL=chunk-54d7eeff.62df5c76.js.map
