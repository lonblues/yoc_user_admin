{"version":3,"sources":["webpack:///./src/pages/results/teamPDF.vue?7976","webpack:///src/pages/results/teamPDF.vue","webpack:///./src/pages/results/teamPDF.vue?c740","webpack:///./src/pages/results/teamPDF.vue","webpack:///./src/pages/results/teamPDF.vue?f861"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","attrs","on","toPicture","_v","style","staticClass","_s","title","_l","item","index","key","award","team","domProps","groups","awardInfo","project","project_mail_from_company","project_BU","time","staticRenderFns","data","teamList","capture","backgroundImage","backgroundRepeat","backgroundSize","created","$store","state","console","log","date","getFullYear","getMonth","methods","toPDF","imgWidth","imgHeight","pageData","canvas","toDataURL","pdf","addImage","save","dpi","window","devicePixelRatio","scale","useCORS","a","download","href","dispatchEvent","MouseEvent","component"],"mappings":"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","file":"js/chunk-ba043142.129ff48e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"overflow\":\"hidden\"}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.toPicture}},[_vm._v(\"导出图片\")]),_c('div',{staticStyle:{\"width\":\"900px\",\"overflow\":\"hidden\",\"min-height\":\"1000px\"},style:(_vm.capture),attrs:{\"id\":\"capture\"}},[_c('div',{staticClass:\"title\"},[_vm._v(\" \"+_vm._s(_vm.title)+\" \")]),_c('div',{staticClass:\"title-size\"},[_vm._v(\"获奖名单\")]),_vm._l((_vm.teamList),function(item,index){return _c('div',{key:index,staticClass:\"table-pdf\"},[_c('table',{staticClass:\"table\",attrs:{\"cellspacing\":\"0\",\"width\":\"700\",\"border\":\"1\"}},[_c('tr',[_c('td',[_vm._v(\"奖项\")]),_c('td',[_vm._v(_vm._s(item.award))])]),_c('tr',[_c('td',[_vm._v(\"团队\")]),_c('td',[_vm._v(_vm._s(item.team))])]),_c('tr',[_c('td',[_vm._v(\"成员\")]),_c('td',{domProps:{\"innerHTML\":_vm._s(item.groups)}})])])])}),_c('div',{staticClass:\"contact1\"},[_c('div',[_c('p',[_vm._v(_vm._s(_vm.awardInfo[0].project.project_mail_from_company))]),_c('p',[_vm._v(_vm._s(_vm.awardInfo[0].project.project_BU)+\"中国办公室\")]),_c('p',[_vm._v(_vm._s(_vm.time))])])])],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div style=\"overflow:hidden\">\r\n\r\n    <el-button @click=\"toPicture\" type=\"primary\">导出图片</el-button>\r\n\r\n    <div id=\"capture\" style=\"width:900px;overflow:hidden;min-height:1000px\" :style=\"capture\">\r\n      <div class=\"title\">\r\n        {{ title }}\r\n      </div>\r\n      <div class=\"title-size\">获奖名单</div>\r\n      <div class=\"table-pdf\" v-for=\"(item, index) in teamList\" :key=\"index\">\r\n        <table class=\"table\" cellspacing=\"0\" width=\"700\" border=\"1\">\r\n          <tr>\r\n            <td>奖项</td>\r\n            <td>{{ item.award }}</td>\r\n          </tr>\r\n          <tr>\r\n            <td>团队</td>\r\n            <td>{{ item.team }}</td>\r\n          </tr>\r\n          <tr>\r\n            <td>成员</td>\r\n            <td v-html=\"item.groups\"></td>\r\n          </tr>\r\n          <!-- <tr>\r\n            <td>获奖作品</td>\r\n            <td>{{ item.work }}</td>\r\n          </tr> -->\r\n        </table>\r\n      </div>\r\n      <div class=\"contact1\">\r\n            <div>\r\n              <p>{{awardInfo[0].project.project_mail_from_company}}</p>\r\n              <p>{{awardInfo[0].project.project_BU}}中国办公室</p>\r\n              <p>{{time}}</p>\r\n            </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport html2canvas from 'html2canvas'\r\nimport JsPDF from 'jspdf'\r\nexport default {\r\n  data () {\r\n    return {\r\n      awardInfo: '',\r\n      teamList: [],\r\n      title: '',\r\n      time: '',\r\n      capture: {\r\n        backgroundImage: '',\r\n        backgroundRepeat: 'no-repeat',\r\n        backgroundSize: '100% 100%'\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    this.teamList = this.$store.state.teamList\r\n    this.awardInfo = this.$store.state.awardInfo\r\n    this.capture.backgroundImage = `url(${this.awardInfo[0].project.project_award_background})`\r\n    console.log(this.capture)\r\n    this.title = this.$store.state.title\r\n    console.log(this.teamList)\r\n    const date = new Date()\r\n    this.time = date.getFullYear() + '.' + (date.getMonth() < 10 ? '0' + date.getMonth() : date.getMonth())\r\n  },\r\n  methods: {\r\n    toPDF () {\r\n      html2canvas(document.querySelector('#capture')).then(canvas => {\r\n        // A4纸的长宽\r\n        var imgWidth = 595.28\r\n        var imgHeight = 841.89\r\n\r\n        var pageData = canvas.toDataURL('image/jpeg', 1.0)\r\n\r\n        var pdf = new JsPDF('', 'pt', 'a4')\r\n\r\n        // 有两个高度需要区分，一个是html页面的实际高度，和生成pdf的页面高度(841.89)\r\n        // 当内容未超过pdf一页显示的范围，无需分页\r\n\r\n        pdf.addImage(pageData, 'JPEG', 0, 0, imgWidth, imgHeight)\r\n\r\n        pdf.save('content.pdf')\r\n      })\r\n    },\r\n    toPicture () {\n      html2canvas(document.querySelector('#capture'), {\r\n        dpi: window.devicePixelRatio * 2,\r\n        scale: 2,\r\n        useCORS: true\r\n      }).then((canvas) => {\n        const href = canvas.toDataURL('image/png', 1.0)\r\n        const a = document.createElement('a') // 创建a标签\r\n        a.download = 'picture' // 设置图片名字\r\n        a.href = href\r\n        a.dispatchEvent(new MouseEvent('click'))\r\n      })\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped lang=\"scss\">\r\n.title {\r\n  width: 100%;\r\n  text-align: center;\r\n  font-family: \"Microsoft YaHei\";\r\n  font-size: 160%;\r\n  font-weight: bold;\r\n  margin-bottom: 20px;\r\n  margin-top: 230px;\r\n}\r\n.title-size {\r\n  font-size: 140%;\r\n  text-align: center;\r\n  margin-bottom: 20px;\r\n}\r\n.table-pdf {\r\n  margin-bottom: 20px;\r\n\r\n  tr > td:first-child {\r\n    width: 150px;\r\n  }\r\n  td {\r\n    text-align: center;\r\n  }\r\n  tr {\r\n    height: 60px;\r\n    line-height: 24px;\r\n  }\r\n}\r\n.table {\r\n  margin: 0 auto;\r\n}\r\n.contact1{\r\n  width: 700px;\r\n  margin: 0 auto;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./teamPDF.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./teamPDF.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./teamPDF.vue?vue&type=template&id=7d1347e8&scoped=true&\"\nimport script from \"./teamPDF.vue?vue&type=script&lang=js&\"\nexport * from \"./teamPDF.vue?vue&type=script&lang=js&\"\nimport style0 from \"./teamPDF.vue?vue&type=style&index=0&id=7d1347e8&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7d1347e8\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./teamPDF.vue?vue&type=style&index=0&id=7d1347e8&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./teamPDF.vue?vue&type=style&index=0&id=7d1347e8&scoped=true&lang=scss&\""],"sourceRoot":""}